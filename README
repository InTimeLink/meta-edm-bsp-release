Technexion 4.1.15-1.1.1 Yocto Project BSP
================================================

This BSP is a Technexion release providing support NXP i.mx series processors


Quick Start Guide
-----------------
See the Freescale Yocto Project User's Guide for instructions on installing repo.

Fetch Technexion Yocto source code:
$: repo init -u https://github.com/TechNexion/edm-yocto-bsp.git -b jethro_4.1.15-1.1.0_GA
$: repo sync -j8

Prepare wifi/BT firmware
-------------------------
Under sources/meta-edm-bsp-release/recipes-bsp, there are two directories: "firmware-legacy" and "firmware-bcmdhd" which contain wifi/BT firmware files.

1. firmware-legacy:
This directory contains wifi/BT firmwares for BCM4330, the firmware is from Linux-Wireless and added by default.

2. firmware-bcmdhd:
This directory is supposed to contain the wifi/BT firmwares of Ampak AP6335(BCM4339) and AP6212(BCM43438).
Because of the license restriction, please contact TechNexion FAE or Sales to get licensed firmware files.
After getting the firmware binary:
(1) Put all the firmware files into sources/meta-edm-bsp-release/recipes-bsp/firmware-bcmdhd/files.
(2) Activate the deployment of Ampak AP6335(BCM4339) and AP6212(BCM43438) firmware files:
$ cp sources/meta-edm-bsp-release/recipes-bsp/firmware-bcmdhd/files/firmware-bcmdhd_1.0.1.bak sources/meta-edm-bsp-release/recipes-bsp/firmware-bcmdhd/firmware-bcmdhd_1.0.1.bb


Run i.MX Technexion Yocto Setup
---------------------------------
$: MACHINE=< machine name> DISPLAY=<DISPLAY_TYPE> BASEBOARD=<BASEBOARD_TYPE> source edm-setup-release.sh -b <build directory> -e <backend fb, wayland, x11>
note:
DISPLAY_TYPE can be <lvds7, lvds10, hdmi720p, hdmi1080p, lcd, lvds7_hdmi720p, lcd, custom>
BASEBOARD_TYPE for edm1-cf-imx6 can be <fairy, tc0700>
BASEBOARD_TYPE for pico-imx6 can be <dwarf, hobbit, nymph>


You can download pre-built image from Technexion FTP:
ftp://ftp.technexion.net/demo_software/

Build settings for TechNexion product:
----------------------------------
===============================================================================================================
For EDM1-CF-IMX6/EDM1-CF-IMX6P/EDM1-CF-IMX6QP :

FAIRY baseboard, QT5 with X11 image for HDMI output:
$ MACHINE=edm1-cf-imx6 BASEBOARD=fairy source edm-setup-release.sh -b build-x11-fairy -e x11
$ bitbake fsl-image-qt5

FAIRY baseboard, QT5 with X11 image for 7 inch LVDS panel:
$ DISPLAY=lvds7 MACHINE=edm1-cf-imx6 BASEBOARD=fairy source edm-setup-release.sh -b build-x11-fairy -e x11
$ bitbake fsl-image-qt5

FAIRY baseboard, QT5 with X11 image for 7 inch/5 inch TTL-LCD panel:
$ DISPLAY=lcd MACHINE=edm1-cf-imx6 BASEBOARD=fairy source edm-setup-release.sh -b build-x11-fairy -e x11
$ bitbake fsl-image-qt5

Toucan0700, QT5 with X11 image for 7 inch LVDS panel and disabled debug console:
$ DISPLAY=lvds7 MACHINE=edm1-cf-imx6-no-console BASEBOARD=tc0700 source edm-setup-release.sh -b build-x11-toucan -e x11
$ bitbake fsl-image-qt5
===============================================================================================================

For PICO-IMX6/PICO-IMX6-POP:

DWARF baseboard, QT5 with X11 image for HDMI output:
$ MACHINE=pico-imx6 BASEBOARD=dwarf source edm-setup-release.sh -b build-x11-pico -e x11
$ bitbake fsl-image-qt5

DWARF baseboard, QT5 with X11 image for 7 inch LVDS panel:
$ DISPLAY=lvds7 MACHINE=pico-imx6 BASEBOARD=dwarf source edm-setup-release.sh -b build-x11-pico -e x11
$ bitbake fsl-image-qt5

DWARF baseboard, QT5 with X11 image for 7 inch/5 inch TTL-LCD panel:
$ DISPLAY=lcd MACHINE=pico-imx6 BASEBOARD=dwarf source edm-setup-release.sh -b build-x11-pico -e x11
$ bitbake fsl-image-qt5

HOBBIT baseboard, QT5 with X11 image for 7 inch LVDS panel:
$ DISPLAY=lvds7 MACHINE=pico-imx6 BASEBOARD=hobbit source edm-setup-release.sh -b build-x11-pico -e x11
$ bitbake fsl-image-qt5

HOBBIT baseboard, QT5 with X11 image for 7 inch/5 inch TTL-LCD panel:
$ DISPLAY=lcd MACHINE=pico-imx6 BASEBOARD=hobbit source edm-setup-release.sh -b build-x11-pico -e x11
$ bitbake fsl-image-qt5

NYMPH baseboard, QT5 with X11 image for HDMI output:
$ MACHINE=pico-imx6 BASEBOARD=nymph source edm-setup-release.sh -b build-x11-pico -e x11
$ bitbake fsl-image-qt5

NYMPH baseboard, QT5 with X11 image for 7 inch LVDS panel:
$ DISPLAY=lvds7 MACHINE=pico-imx6 BASEBOARD=nymph source edm-setup-release.sh -b build-x11-pico -e x11
$ bitbake fsl-image-qt5
===============================================================================================================
For TEK3-IMX6:

TEK3-IMX6 BOX PC, QT5 with X11 image for HDMI output:
$ MACHINE=tek-imx6 source edm-setup-release.sh -b build-x11-tek -e x11
$ bitbake fsl-image-qt5

For TEP5-IMX6:

TEP5-IMX6 BOX PC, QT5 with X11 image for 10 inch LVDS output:
$ DISPLAY=lvds10 MACHINE=tek-imx6 source edm-setup-release.sh -b build-x11-tek -e x11
$ bitbake fsl-image-qt5
===============================================================================================================
For EDM1-CF-IMX6SX :

GOBLIN baseboard, QT5 with X11 image for 7 inch LVDS panel:
$ MACHINE=edm1-cf-imx6sx source edm-setup-release.sh -b build-x11-goblin -e x11
$ bitbake fsl-image-qt5
===============================================================================================================
For PICO-IMX6UL-EMMC:

HOBBIT baseboard, X11 image for 7 inch/5 inch TTL-LCD panel:
$ MACHINE=pico-imx6ul-emmc source edm-setup-release.sh -b build-x11-pico-imx6ul -e x11
$ bitbake fsl-image-gui

HOBBIT baseboard, QT5 with FB image for 7 inch/5 inch TTL-LCD panel:
$ MACHINE=pico-imx6ul-emmc source edm-setup-release.sh -b build-fb-pico-imx6ul -e fb
$ bitbake fsl-image-qt5
===============================================================================================================
For PICO-IMX6UL-NAND:

HOBBIT baseboard, X11 image for 7 inch/5 inch TTL-LCD panel:
$ MACHINE=pico-imx6ul-nand source edm-setup-release.sh -b build-x11-pico-imx6ul-nand -e x11
$ bitbake fsl-image-gui

HOBBIT baseboard, QT5 with FB image for 7 inch/5 inch TTL-LCD panel:
$ MACHINE=pico-imx6ul-nand source edm-setup-release.sh -b build-fb-pico-imx6ul-nand -e fb
$ bitbake fsl-image-qt5
===============================================================================================================
For PICO-IMX7D:

HOBBIT baseboard, X11 image for 7 inch/5 inch TTL-LCD panel:
$ MACHINE=pico-imx7 BASEBOARD=hobbit source edm-setup-release.sh -b build-x11-pico-imx7 -e x11
$ bitbake fsl-image-gui

HOBBIT baseboard, QT5 with FB image for 7 inch/5 inch TTL-LCD panel:
$ MACHINE=pico-imx7 BASEBOARD=hobbit source edm-setup-release.sh -b build-fb-pico-imx7 -e fb
$ bitbake fsl-image-qt5

DWARF baseboard, X11 image for 7 inch/5 inch TTL-LCD panel:
$ MACHINE=pico-imx7 BASEBOARD=dwarf source edm-setup-release.sh -b build-x11-pico-imx7 -e x11
$ bitbake fsl-image-gui

DWARF baseboard, QT5 with FB image for 7 inch/5 inch TTL-LCD panel:
$ MACHINE=pico-imx7 BASEBOARD=dwarf source edm-setup-release.sh -b build-fb-pico-imx7 -e fb
$ bitbake fsl-image-qt5

PI baseboard, X11 image for 5 inch TTL-LCD panel:
$ MACHINE=pico-imx7 BASEBOARD=pi source edm-setup-release.sh -b build-x11-pico-imx7 -e x11
$ bitbake fsl-image-gui

PI baseboard, QT5 with FB image for 5 inch TTL-LCD panel:
$ MACHINE=pico-imx7 BASEBOARD=pi source edm-setup-release.sh -b build-fb-pico-imx7 -e fb
$ bitbake fsl-image-qt5
===============================================================================================================

Chromium
---------
To enable chromium requires the following steps:

In conf/local.conf:
- Add chromium into your install list:
CORE_IMAGE_EXTRA_INSTALL += "chromium libexif"

- Add commercial into the white list:
LICENSE_FLAGS_WHITELIST="commercial"

QTWebkit
--------
To start go to /usr/share/qt5/examples/webkitwidgets/browser and run browser

Qt
--
Note Qt is support for i.mx6Solo/DL/Dual/Quad/QuadPlus/SoloX with x11 backend. x-window HW acceleration based on GPU is activated.
Because i.mx6UL is lack of GPU. QT is supported for i.mx6UL with framebuffer backend without HW acceleration.


Image Deployment
------------------
When build completes, the generated release image is under “${BUILD-TYPE}/tmp/deploy/images/${MACHINE}”:

"fsl-image-qt5-edm1-cf-imx6-${date}.rootfs.sdcard"
Just flash this image into your target board to deploy yocto.
